#!                                             /usr/bin/env perl
################################################################ 
print "permutation inversion in place by Perl\n";
################################################################
#################################################### 0 1 2 3 4 5
@X = @ARGV; # ./inverse.pl                           0 2 5 4 3 1
################################################################
$N = $#X; #                                                  
################################################################
$prev = 0; #     0 -> 5 -> 1 -> 2 .., start with prev equal to 0
################################################################
$curr = $N; # that will be fai, next is 1                 
################################################################
while( $curr > 0 ){
################################################################
    if( $X[ $curr ] < 0 ){
################################################################
        $X[ $curr ] = -$X[ $curr ];
################################################################
        --$curr;
################################################################
    } else {
################################################################
        while( 1 ){
################################################################
            $next = $X[ $curr ];
################################################################
            $X[ $curr ] = -$prev;
################################################################
            if( $next == 0 ){
################################################################
                $prev = 0;
################################################################
                last;
################################################################
            }
################################################################
            $prev = $curr;
################################################################
            $curr = $next;
################################################################
        }
################################################################
    }
################################################################
}
###############################################################>
print "@X\n"
################################################################
# 私はよくテレビを見ます。
# Je regarde souvent la télé
# A menudo veo televisión
# Guardo spesso la TV
# Я часто дивлюся телевізор
# Ich schaue oft fern
# I often watch TV,
################################################################
# from Genki( Verb Types and the "Present Tense" )
################################################################
